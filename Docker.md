## Docker

해당 내용은 제 경험이 들어가서 조금 특이할 수 있습니다! ⭐️는 면접에서 나온 질문입니다. 

> 잘몰라서 안물어봤는데 막 딴거 아는거 대답한둡.. 공부좀 더해야징 

1. ##### Docker 를 사용했다고 했는데 왜 사용했나요?

   > 환경을 맞춘다는 강점이 다른 os 를 사용하는 팀원들과 협업할 때 편할 것 같아 사용해 보았습니다.
   >
   > 이전에, 다른 환경으로 자잘한 버전 이슈나 환경 셋팅 문제로 꼬이는 문제들이 간혹 있었는데, 환경을 맞춰 실행하다보니 이런 이슈에서 자유로워질 수 있었습니다. 
   >
   > 직접 사용해보니 좋았던 경험은, 로컬에 필요한 환경을 작성한 docker-compose 팀원들에게 전달하니, 로컬에 굳이 환경에 필요한 인프라를 깔지 않고 시작을 할 수 있어 작업 환경을 설치하는데 시간이 많이 줄어들어 좋았습니다.
   >
   > 또한 eb-cli 를 사용하 도커를 바로 올리고, 프로덕션 실행 환경을 설정할 수 있다는 점도 좋았습니다.

2. ##### docker volumn이란 무엇인가요?

   > 컨테이너를 실행하면 외부와 격리하기 때문에 수시로 변경해도 감지하지 못합니다. 이를 해결하기 위해 수시로 변경되는 장고 프로젝트를 컨테이너와 연결하여 코드를 바꿀 때 마다 컨테이너 속 코드도 변경되도록 하였습니다.
   >
   > `--volume` 옵션을 사용하여 로컬 디렉터리 경로를 컨테이너 내부로 마운트 하였습니다. 
   >
   > 데이터 베이스 또한 --volume 을 사용하여, 데이터 베이스가 저장되는 컨테이너 내부 디렉토리 `/var/lib/postgresql/data` 를 `$(pwd)/docker/data` 로 연결하여 데이터를 유지하였습니다.

3. ##### 컨테이너가 종료되면 postgresql 데이터가 날라가는데 어떻게 해결하셨나요?

   > 이거 또한 `--volume`  옵션을 써서 데이터를 유지하였다

4. ##### health check란 무엇인가요?

   > docker-compose 로 장고랑 db 를 올렸는데, 데이터베이스가 빨리 접속해서 못찾는 이슈가있었습니다. , health 를 데이터 베이스에 걸어, 장고 커넥션을 걸어 시도를 하는 명령을 지정할 수 있다. postgresql 에서 제공하는 pg_isready 명령오로 디비 커넥션이가능한지를 3초마다 때려줘서 장고와 모델을 연결시킬 수 있었ㄷ다.

5. ##### 도커파일이란 무엇인가요?

   > 프로젝트를 포함한 서버 환경을 문서화 한 파일을 말합니다. 이 도커파일을 `build`  명령어를 통해 이미지를 만들고, `run` 을 통해 이미지를 컨테이너로 생성할 수 있습니다.
   >
   > = 서버 구성을 문서화한것 

6. ##### 다른 VM 과 Docker 의 차이가 뭔가요?

   > 다른 가상화는 지금 사용하는 컴퓨터에 OS 를 올려 용량이 무겁지만, 도커는 프로세스를 격리하여 해당 프로세스만 사용해서 가상화를 진행합니다. 컨테이너는 도커엔진위에 유저만 격리되어 생성됩니다. 기존 VM에 포함되는 커널이나 버추얼 하드웨어가 포함되지 않는다. 처음부터 새로 생성되는 부분은 bins와 libs 뿐이며, 이것이 컨테이너가 한결 가벼워질 수 있는 이유이다.

7. ##### 도커란 무엇인가요?

   > 컨테이너 기반 오픈소스 가상화 플랫폼입니다. 다양한 프로그램 실행환경을 컨테이너로 추상화하여, 프로그램의 관리 및 배포를 단순하게 해줍니다.
   >
   > 이미지란 컨테이너 실행에 필요한 파일과 설정값을 포함하고 있는 것입니다.
   >
   > 컨테이너란 격리된 방식으로 프로세스가 동작하는 기술입니다. 
   >
   > 도커파일은 서버에 여러 의존성 패키지를 설정할경우 사용합니다.

8. ##### 도커의 저장 방식을 설명해주세요 

   > 레이어 저장 방식을 사용합니다. 이미지에 필요한 파일을 하나의 레이어로 저장하고, 다른 이미지를 추가할때는 기존 레이어를 제외한 새로운 레이어를 받아 효율적으로 용량을 관리합니다.

9. ##### 오케스트레이션

10. ##### 도커란 가상 머신인가요? ⭐️

    뭐라했는지 기억안남.에베벱 했을듯 ㅠ

    > 도커 컨테이너와 가상머신의 차이에 대해 **가상머신은 운영체제 위에 하드웨어를 에뮬레이션하고 그 위에 운영체제를 올리고 프로세스를 실행하는 반면에, 도커 컨테이너는 하드웨어 에뮬레이션 없이 리눅스 커널을 공유해서 바로 프로세스를 실행한다**고 설명하면, 군더더기 없는 아주 훌륭한 설명입니다

11. ##### 맥도 리눅스가 아닌데 맥에서 어떻게 리눅스 커널을 연결??맥에서 어케 하나요 ?⭐️

    > 10번의 확장질문 에베벱 함 ㅠ

    >

12. ##### 두개의 도커 컴포즈를 올렸다. 다른 컴포즈의 컨테이너에서 접속이 가능할까요? ⭐️

    > 볼륨 기능이 외부에 연결되기때문에 가능하지않을까? 네트워크로 고정 ip 로 해서 포트 하면 가능하지않을까요?
    >
    > 결론: 안된다고들었음! 근데 넘떨려서 기억이안난다 검색해봣는데 된다네..? 이게아닌가? 이거 체크 어케해볼쑤잇찌?
    >
    > <https://stackoverflow.com/questions/38233345/docker-compose-link-container-of-another-docker-compose> 



#### 겅부해보기

<https://www.44bits.io/ko/post/is-docker-container-a-virtual-machine-or-a-process>

